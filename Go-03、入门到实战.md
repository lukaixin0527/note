---
title: Go 03、入门到实战
date: 2022-03-23 15:13:47
categories:
- Golang
- 基础
tags:
- Go
---

# 1、Golang可以做什么

1. 区块链应用
2. Go服务器端
3. Golang分布式、云计算

# 2、Go语言发展史

## 1、Go语言发展史

```go
2009 年 11 月 10 日，Go 语言以开放源代码的方式向全球发布。
2011 年 03 月 16 日，Go 语言的第一个稳定（stable）版本 R56 发布。
2012 年 03 月 28 日，Go 语言的第一个正式版本 Go 1 发布。
2013 年 04 月 04 日，Go 语言的 Go 1.1 beta1 测试版发布。
2013 年 04 月 08 日，Go 语言的 Go 1.1 beta2 测试版发布。
2013 年 05 月 02 日，Go 语言 Go 1.1 RC1 版发布。
2013 年 05 月 07 日，Go 语言 Go 1.1 RC2 版发布。
2013 年 05 月 09 日，Go 语言 Go 1.1 RC3 版发布。
2013 年 05 月 13 日，Go 语言 Go 1.1 正式版发布。
2013 年 09 月 20 日，Go 语言 Go 1.2 RC1 版发布。
2013 年 12 月 01 日，Go 语言 Go 1.2 正式版发布。
2014 年 06 月 18 日，Go 语言 Go 1.3 版发布。
2014 年 12 月 10 日，Go 语言 Go 1.4 版发布。
2015 年 08 月 19 日，Go 语言 Go 1.5 版发布，本次更新中移除了“最后残余的C代码”。
2016 年 02 月 17 日，Go 语言 Go 1.6 版发布。
2016 年 08 月 15 日，Go 语言 Go 1.7 版发布。
2017 年 02 月 17 日，Go 语言 Go 1.9 版发布。
2018 年 02 月 16 日，Go 语言 Go 1.10 版发布。
2018 年 08 月 25 日，Go 语言 Go 1.11 版发布。
2019 年 03 月 01 日，Go 语言 Go 1.12 版发布。
2019 年 09 月 03 日，Go 语言 Go 1.13 版发布。
2020 年 02 月 25 日，Go 语言 Go 1.14 版发布。
2020 年 08 月 12 日，Go 语言 Go 1.15 版本发布。
2021 年 02 月 17 日，Go 语言 Go 1.16 版本发布。
2021 年 08 月 17 日，Go 语言 Go 1.17 版本发布。
2022 年 03 月 15 日，Go 语言 Go 1.18 版本发布。
```



## 2、Google为什么要创造Go语言

1. 计算机硬件技术更新频繁，性能提高很快，目前主流的编程语言发展明显落后于硬件，不能合理利用**多核多CPU**的优势提升软件系统性能。
2. 软件系统复杂度越来越高，维护成本越来越高，目前缺乏一个足够**简洁高效**的编程语言。
3. 企业运行维护很多c/c++的项目，c/c++程序运行速度虽然很快，但是编译速度却很慢，同时还存在内存泄漏等一系列困扰需要解决。

# 3、Go语言特性

Go语言保证了既能达到静态语言的安全和性能，又能达到动态语言开发维护的高效率，使用一个表达式来形容Go语言：Go =C+Python，说明Go语言既有C静态语言的运行速度，又能达到Python动态语言的快速开发

1. 从C语言中继承了很多理念，包括表达式语法，控制结构，基础数据类型，调用参数传值，指针等等，也保留了和C语言一样的编译执行方式，以及弱化的指针
2. 引入包的概念，用于组织编程结构，Go语言的一个文件都要归属于一个包，而不能单独存在
3. 垃圾回收机制，内存自动回收，不需要开发人员管理
4. 并发，从语言层面支持并发，实现简单。Goroutine，轻量级线程，可以实现大并发处理，高效利用多核

# 4、Go语言开发工具

1. [Visual Studio Code](https://code.visualstudio.com/download)
2. [GoLand](https://www.jetbrains.com/go/)

# 5、Go语言基本结构

```go
package main  // 定义包名,package main表示一个可独立执行的程序

import "fmt" // 使用fmt包的函数,fmt包实现了格式化IO(输入/输出)的函数

func main() {  // 是程序开始执行的函数
   fmt.Println("Hello, World!") // 可以将字符串输出到控制台，并在最后自动增加换行字符 \n。
}
```

# 6、Go语言要求和注意事项

1. Go源文件以"go"为扩展名。如`Test.go`
2. Go应用程序的执行入口是main()函数
3. Go语言严格区分大小写
4. Go方法由一条条语句构成，每个语句后不需要分号(Go语言会在每行后自动加分号)，当然加上也不会报错。充分体现了Golang的简洁性。
5. Go编译器是一行行进行编译的，因此我们一行就写一条语句，不能把多条语句写在同一行，否则报错。
6. Go语言**定义的变量**或者**Import的包**，如果没有使用，则代码不能编译通过。

# 7、数据类型

1. **布尔型**，只可以是常量 true 或者 false。例如：`var b bool = true`，占用1个字节
2. **数字类型**，整型 int 和浮点型 float32、float64，
3. **字符串类型**,一串固定长度的字符连接起来的字符序列 
4. **派生类型**

- (a) 指针类型（Pointer）
- (b) 数组类型
- (c) 结构化类型(struct)
- (d) Channel 类型
- (e) 函数类型
- (f) 切片类型
- (g) 接口类型（interface）
- (h) Map 类型

## 1、数字类型

注意：如果指定了int8类型，如果超出数字范围则报错 如：`var a int8 = 128`，Golang中数字类型默认为int类型

| 序号 | 类型和描述                                                   |
| :--- | :----------------------------------------------------------- |
| 1    | **uint8** 无符号 8 位整型 (0 到 255)                         |
| 2    | **uint16** 无符号 16 位整型 (0 到 65535)                     |
| 3    | **uint32** 无符号 32 位整型 (0 到 4294967295)                |
| 4    | **uint64** 无符号 64 位整型 (0 到 18446744073709551615)      |
| 5    | **int8** 有符号 8 位整型 (-128 到 127)                       |
| 6    | **int16** 有符号 16 位整型 (-32768 到 32767)                 |
| 7    | **int32** 有符号 32 位整型 (-2147483648 到 2147483647)       |
| 8    | **int64** 有符号 64 位整型 (-9223372036854775808 到 9223372036854775807) |

## 2、浮点型

1. Golang浮点类型有固定的范围和字段长度，不受操作系统的影响
2. Golang的浮点类型默认声明为float64类型
3. 没有float类型，只能float32或float64  `var b float32 = -12.3`
4. 浮点类型常量有两种表示形式
   1. 十进制数形式 。如5.12 、.123 (0.123等于.123)
   2. 科学计数法形式。如5.12e2=5.12*10的2次方  5.12e-2=5.12/10的2次方 
5. float可能会导致精度损失，通常情况下使用float64，float64比float32精度高。

![image-20221213161326803](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221213161326803.png)

| 序号 | 类型和描述                        |
| :--- | :-------------------------------- |
| 1    | **float32** IEEE-754 32位浮点型数 |
| 2    | **float64** IEEE-754 64位浮点型数 |
| 3    | **complex64** 32 位实数和虚数     |
| 4    | **complex128** 64 位实数和虚数    |

## 3、其他数字类型

| 序号 | 类型和描述                               |
| :--- | :--------------------------------------- |
| 1    | **byte** 类似 uint8                      |
| 2    | **rune** 类似 int32                      |
| 3    | **uint** 32 或 64 位                     |
| 4    | **int** 与 uint 一样大小                 |
| 5    | **uintptr** 无符号整型，用于存放一个指针 |

## 4、字符类型

Golang中没有专门的字符类型，如果要存储单个字符(字母)，一般使用**byte**来保存

1. 字符的本质是一个整数，直接输出时，是该字符对应的UTF-8编码的码值
2. 字符类型是可以进行运算的，相当于一个整数。
3. Go语言的编码统一是**utf-8**

![image-20221213165122592](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221213165122592.png)

## 5、字符串类型

1. Go语言的字符串是一串固定长度的字符连接起来的字符序列，字符序列使用的UTF-8，所以不会出现乱码问题。
2. 字符串是不可修改的
3. 字符串的两种表示形式
   1. 双引号，会识别转义字符
   2. 反引号，以字符串的原生形式输出，`` ,包括换行和特殊字符，可以实现防止攻击、输出源代码等效果
4. 字符串拼接方式，使用"+"
5. 当一行字符串太长时，需要使用到多行字符串，注意：结尾必须为 + 号，否则会自动添加；表示结束

![image-20221213171516303](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221213171516303.png)

## 6、默认值

- 数字类型，默认0
- 字符串类型，默认""
- 布尔类型：默认false

## 7、数据类型转换

Golang在不同类型的变量之间赋值时需要**显示转换**，不能自动转换

1. 数据类型转换 使用 数据类型(需要转换的数据) ，例如：`var b int64 = int64(a)` 

2. 数据类型转String

   ​	1）fmt.Sprintf

   ​	2）strconv函数 ，具体使用方法参考 https://studygolang.com/pkgdoc 

   ```
   func FormatInt(i int64, base int) string
   ```

   返回i的base进制的字符串表示。base 必须在2到36之间，结果中会使用小写字母'a'到'z'表示大于10的数字。

   ![image-20221213181941457](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221213181941457.png)

3. string转数据类型

    	1）strconv函数 ，具体使用方法参考 https://studygolang.com/pkgdoc 

   - func ParseBool(str string) (value bool, err error)
   - func ParseInt(s string, base int, bitSize int) (i int64, err error)
   - func ParseUint(s string, base int, bitSize int) (n uint64, err error)
   - func ParseFloat(s string, bitSize int) (f float64, err error)

   ![image-20221213214422563](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221213214422563.png)

   注意：String类型如果转换失败，则返回**默认值**。

   ## 8、指针 

   1. 获取变量的地址，使用&     var a  int = &b
   2. 指针类型，指针变量存的是一个地址，这个地址指向的空间才是值  var ptr *int = &b
   3. 获取指针类型所指向的值，使用 * 
   4. 值类型，都要对应的指针类型，形式为 ***数据类型**，比如int对应的指针类型为*int float32对应的指针类型为 *float

![image-20221214110403111](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221214110403111.png)

## 9、值类型和引用类型

值类型包括：int、float、bool、string、数组、结构体、struct

​		   特点：变量直接存储值，内存通常在栈中分配

引用类型：指针、切片、map、管道、interface

​		   特点：变量存储的是一个地址，这个地址对应的空间才是真正存储的数据(值)，内存通常在堆上分配，当没有任何变量引用这个地址时，该地址对应的数据空间就会变成一个垃圾，有GC来回收。

# 8、标识符的命名规范

### 1、标识符概念

　　1.GO语言中对各种变量、方法、函数等命名时使用的字符串序列称之为标识符

　　2.凡是自己可以起名字的地方都叫标识符

### 2、标识符的命名规则

　　1.由26个英文字母大小写，0-9，_ 组成

　　2.数字不可以开头。var num int //ok  var 3num int //error

　　3.GO语言中严格区分大小写

　　4.标识符不能包含空格

　　5.下划线“_”本身在GO中是一个特殊的标识符,称为空标识符，可以代表任何其他的标识符，但是他对应的值会被忽略（比如：忽略某个返回值）。所以仅能被作为占位符使用，不能作为标识符使用。

　　6.不能以系统保留关键字作为标识符，比如break，if等等

| break    | default     | func   | interface | select |
| -------- | ----------- | ------ | --------- | ------ |
| case     | defer       | go     | map       | struct |
| chan     | else        | goto   | package   | switch |
| const    | fallthrough | if     | range     | type   |
| continue | for         | import | return    | var    |

**注意**

1. 包名：保持package的名字和目录保持一致，尽量采取有意义的包名、简短有意义，不要和标准库冲突
2. 变量名、函数名、常量名：采用驼峰式
3. 如果变量名、函数名、常量名**首字母大写**，则可以被**其他包访问**，如果首字母小写，则只能在本包中使用。

# 9、运算符

假定 A 值为 10，B 值为 20。

| 运算符 | 描述 | 实例               |
| :----- | :--- | :----------------- |
| +      | 相加 | A + B 输出结果 30  |
| -      | 相减 | A - B 输出结果 -10 |
| *      | 相乘 | A * B 输出结果 200 |
| /      | 相除 | B / A 输出结果 2   |
| %      | 求余 | B % A 输出结果 0   |
| ++     | 自增 | A++ 输出结果 11    |
| --     | 自减 | A-- 输出结果 9     |

注意:

1. 对于除号"/", 整数之间相除，只保留整数部分。

2. 当对一个数取模时，可以等价于 a%b = a-a/b*b

3. Golang的自增自减只能独立使用，不能赋值使用，如 b:=a++  ，并且只能 **a++** 不存在 ++a

   ![image-20221215170026644](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221215170026644.png)

## 1、关系运算符

假定 A 值为 10，B 值为 20。

| 运算符 | 描述                                                         | 实例              |
| :----- | :----------------------------------------------------------- | :---------------- |
| ==     | 检查两个值是否相等，如果相等返回 True 否则返回 False。       | (A == B) 为 False |
| !=     | 检查两个值是否不相等，如果不相等返回 True 否则返回 False。   | (A != B) 为 True  |
| >      | 检查左边值是否大于右边值，如果是返回 True 否则返回 False。   | (A > B) 为 False  |
| <      | 检查左边值是否小于右边值，如果是返回 True 否则返回 False。   | (A < B) 为 True   |
| >=     | 检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。 | (A >= B) 为 False |
| <=     | 检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。 | (A <= B) 为 True  |

![image-20221215171101006](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgjava-imgimage-20221215171101006.png)

## 2、逻辑运算符

假定 A 值为 True，B 值为 False。

| 运算符 | 描述                                                         | 实例               |
| :----- | :----------------------------------------------------------- | :----------------- |
| &&     | 逻辑 AND 运算符。 如果两边的操作数都是 True，则条件 True，否则为 False。 | (A && B) 为 False  |
| \|\|   | 逻辑 OR 运算符。 如果两边的操作数有一个 True，则条件 True，否则为 False。 | (A \|\| B) 为 True |
| !      | 逻辑 NOT 运算符。 如果条件为 True，则逻辑 NOT 条件 False，否则为 True。 | !(A && B) 为 True  |

![image-20221215171323294](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221215171323294.png)

## 3、赋值运算符

注意：赋值运算符的左边只能是变量，右边可以是变量、表达式、常量值。

| 运算符 | 描述                                           | 实例                                  |
| :----- | :--------------------------------------------- | :------------------------------------ |
| =      | 简单的赋值运算符，将一个表达式的值赋给一个左值 | C = A + B 将 A + B 表达式结果赋值给 C |
| +=     | 相加后再赋值                                   | C += A 等于 C = C + A                 |
| -=     | 相减后再赋值                                   | C -= A 等于 C = C - A                 |
| *=     | 相乘后再赋值                                   | C *= A 等于 C = C * A                 |
| /=     | 相除后再赋值                                   | C /= A 等于 C = C / A                 |
| %=     | 求余后再赋值                                   | C %= A 等于 C = C % A                 |
| <<=    | 左移后赋值                                     | C <<= 2 等于 C = C << 2               |
| >>=    | 右移后赋值                                     | C >>= 2 等于 C = C >> 2               |
| &=     | 按位与后赋值                                   | C &= 2 等于 C = C & 2                 |
| ^=     | 按位异或后赋值                                 | C ^= 2 等于 C = C ^ 2                 |
| \|=    | 按位或后赋值                                   | C \|= 2 等于 C = C \| 2               |

## 4、运算符优先级

| 优先级 | 运算符           |
| :----- | :--------------- |
| 5      | * / % << >> & &^ |
| 4      | + - \| ^         |
| 3      | == != < <= > >=  |
| 2      | &&               |
| 1      | \|\|             |

## 5、其他运算符

| 运算符 | 描述             | 实例                       |
| :----- | :--------------- | :------------------------- |
| &      | 返回变量存储地址 | &a; 将给出变量的实际地址。 |
| *      | 指针变量。       | *a; 是一个指针变量         |

# 10、获取用户终端输入

1. fmt.Scanln()
2. fmt.Scanf()

![image-20221215213345485](https://raw.githubusercontent.com/lukaixin0527/images/master/java-imgimage-20221215213345485.png)

# 11、流程控制

| 语句           | 描述                                                         |
| :------------- | :----------------------------------------------------------- |
| if 语句        | **if 语句** 由一个布尔表达式后紧跟一个或多个语句组成。       |
| if...else 语句 | **if 语句** 后可以使用可选的 **else 语句**, else 语句中的表达式在布尔表达式为 false 时执行。 |
| if 嵌套语句    | 你可以在 **if** 或 **else if** 语句中嵌入一个或多个 **if** 或 **else if** 语句。 |
| switch 语句    | **switch** 语句用于基于不同条件执行不同动作。                |
| select 语句    | **select** 语句类似于 **switch** 语句，但是select会随机执行一个可运行的case。如果没有case可运行，它将阻塞，直到有case可运行。 |

